# Hadoop

开源、可运行于大规模集群上的分布式并行编程框架，实现了Map/Reduce计算模型

## 概述

  Hadoop 是 Apache 软件基金会旗下的一个开源分布式计算平台。以 Hadoop 分布式文件系统(HDFS，Hadoop Distributed File System)和 MapReduce(Google MapReduce 的开源实现)为核心的 Hadoop，为用户提供了系统底层细节透明的分布式基础架构。HDFS 的高容错性、高伸缩性等优点允许用户将 Hadoop 部署在低廉的硬件上，形成分布式系统; MapReduce 分布式编程模型允许用户在不了解分布式系统底层细节的情况下开发并行应用程序。所以，用户可以利用 Hadoop 轻松地组织计算机资源，从而搭建自己的分布式计算平台，并且可以充分利用集群的计算和存储能力，完成海量数据的处理。

## Hadoop 的优点


**高可靠性** 因为它假设计算元素和存储会失败，因此它维护多个工作数据副本，确保能够针对失败的节点重新分布处理

**高效性** 因为它以并行的方式工作，通过并行处理加快处理速度。Hadoop 还是可伸缩的，能够处理 PB 级数据。Hadoop 能够在节点之间动态地移动数据，并保证各个节点的动态平衡，因此其处理速度非常快。

**高可扩展型** Hadoop 是在可用的计算机集簇间分配数据并完成计算任务的，这些 集簇可以方便地扩展到数以千计的节点中。

**高容错性** Hadoop能够自动保存数据的多个副本，并且能够自动将失败的任务重 新分配。

**Hadoop** 依赖于廉价服务器，因此它的成本比较低，任何人都可以使用。

## Hadoop 项目及其结构

  Hadoop 有许多元素构成。最底部是 Hadoop Distributed File System(HDFS)，它存储 Hadoop 集群中所有存储节点上的文件。HDFS 的上一层是 MapReduce 引擎，该引擎由 JobTrackers 和 TaskTrackers 组成。

![Hadoop1.0]()

![Hadoop2.0]()

- Arvo

 数据序列化的系统，提供了丰富的数据结构类型、快速可压缩的二进制格式、存储持久性数据的文件集、远程调用RPC的功能和简单的动态语言继承功能。

 - HDFS

分布式文件系统，运行于大型商用机集群，为 HBase 提供了高可靠性的底层存储支持

具有高容错性(fault-tolerant) 因此可以设计部署在低廉的硬件上。

高吞吐率来访问应用程序的数据

HDFS 的设计目标:

**检测和快速恢复硬件故障** 硬件故障是常见的问题，整个 HDFS 系统由数百台或数千台存储着数据文件的服务器组成，而如此多的服务器意味着高故障率，因此，故障的检测和自动快速恢复是 HDFS 的一个核心目标。

**流式的数据访问** HDFS 使应用程序能流式地访问它们的数据集。HDFS 被设计成适合进行批量处理，而不是用户交互式的处理。所以它*重视数据吞吐量*，而不是数据访问的反应速度。

**简化一致性模型** 大部分的 HDFS 程序操作文件时需要一次写入，多次读取。一个文件一旦经过创建、写入、关闭之后就不需要修改了，从而简化了数据一致性问题和高吞吐量的数据访问问题。

**通信协议** 所有的通信协议都在 TCP/IP 协议之上。一个客户端和明确配置了端口的目录节点(NameNode)建立连接之后，它和目录节点(NameNode)的协议便是客户端协议(Client Protocal)。数据节点(DataNode)和目录节点(NameNode)之间则用数据节 点协议(DataNode Protocal)。

- HBase

HBase 位于结构化存储层，是一个分布式的**列存储数据库**

该技术来源于 Google 的论文“Bigtable:一个结构化数据的分布式存储系统”。

HBase 在 Hadoop 之上提供了类似于 Bigtable 的能力。HBase 是 Hadoop 项目的子项目。HBase 不同于一般的关系数据库
1. HBase 是一个适合于存储非结构化数据的数据库
2. HBase 是基于列而不是基于行的模式。

HBase 和 Bigtable 使用相同的数据模型。用户将数据存储在一个表里，一个数据行拥有一个可选择的键和任意数量的列。由于 HBase 表示疏松的，用户可以给行定义各种不同的列。HBase 主要用于需要随机访问、实时读写的大数据(BigData)。

- MpaReduce

  Mapreduce 是一种编程模型，用于大规模数据集(大于 1TB)的并行运算。

  MapReduce 在执行时先指定一个 map(映射)函数，把输入键值对映射成一组新的键值对，经过一定的处理后交给 reduce，reduce 对相同 key 下的所有 value 进行处理后再输出键值对作为最终的结果。

- zookeeper

Zookeeper 是一个分布式的、高可用性的协调服务，提供分布式锁之类的基本服务，用于构建分布式应用，为 HBase 提供了稳定服务和失败恢复机制。

- Hive

建立在 Hadoop 基础之上的数据仓库，提供了一些对存储在 Hadoop 文件中的数据集进行数据整理、特殊查询和分析的工具

提供的是一种结构化数据的机制，它支持类似于传统 RDBMS 中的 SQL 语言来帮助那些熟悉 SQL 的用户查询 Hadoop 中的数据，该查询语言称为 HiveQL。与此同时，那些传统的 MapReduce 编程人员也可以在 Mapper 或 Reducer 中通过 HiveQL 查询数据。Hive 编译器会把 HiveQL 编译成一组 MapReduce 任务，从而方便 MapReduce 编程人员进行 Hadoop 应用的开发。

- Pig

一种数据流语言和运行环境，用以检索非常大的数据集，大大简化了 Hadoop 常见的工作任务。

Pig 可以加载数据、表达转换数据以及存储最终结果。Pig 内置的操作使得 半结构化数据变得有意义(如日志文件)。

Pig 和 Hive 都为 HBase 提供了高层语言支持，使得在 HBase 上进行数据统计处理变的非常简单

- Sqoop

Sqoop 为 HBase 提供了方便的 RDBMS 数据导入功能，使得传统数据库数据向 HBase中迁移变得非常方便。

## Hadoop体系结构

HDFS和MapReduce是Hadoop的两大核心。而整个 Hadoop 的体系结构主要是通过HDFS 来实现对分布式存储的底层支持的，并且它会通过 MapReduce 来实现对分布式并行任务处理的程序支持。

### HDFS 体系结构

  主从结构模型(Master/Slave)，一个HDFS集群是由一个NameNode和若干DataNode组成的。

  其中 NameNode 作为主服务器，管理文件系统的命名空间和客户端对文件的访问操作

  集群中的 DataNode 管理存储的数据

### MapReduce 体系结构

  软件框架，
